#!/bin/bash
#
# upkadai, getkadai, getlocal, initssh, sshrunなどで接続するリモートホストの
# 名前を返す．
#
# Written by Yasuharu Mizutani
# Modified by Hiroshi Igaki

##############################################################
# 環境変数 KADAI_HOST が設定されている場合は，それを優先する #
##############################################################
if [ -v KADAI_HOST ]; then
    echo ${KADAI_HOST}
    exit
fi


######################
# 提出先ホストの候補 #
######################
HOSTS1=(
    150.89.15.111       #o-ssh.center.oit.ac.jp(1)
    150.89.15.112       #o-ssh.center.oit.ac.jp(2)
    150.89.15.113       #o-ssh.center.oit.ac.jp(3)
    150.89.15.114       #o-ssh.center.oit.ac.jp(4)
    o-vnc.center.oit.ac.jp       #o-vnc.center.oit.ac.jp
)

HOSTS2=(
    150.89.15.111       #o-ssh.center.oit.ac.jp(1)
    150.89.15.112       #o-ssh.center.oit.ac.jp(2)
    150.89.15.113       #o-ssh.center.oit.ac.jp(3)
    150.89.15.114       #o-ssh.center.oit.ac.jp(4)
    150.89.211.1
    150.89.211.2
    150.89.211.3
    150.89.211.4
    150.89.211.5
    150.89.211.6
    150.89.211.7
    150.89.211.8
    150.89.211.9
    150.89.211.10
    150.89.211.11
    150.89.211.12
    150.89.211.13
    150.89.211.14
    150.89.211.15
    150.89.211.16
    150.89.211.17
    150.89.211.18
    150.89.211.19
    150.89.211.20
    150.89.211.21
    150.89.211.22
    150.89.211.23
    150.89.211.24
    150.89.211.25
    150.89.211.26
    150.89.211.27
    150.89.211.28
    150.89.211.29
    150.89.211.30
    150.89.211.31
    150.89.211.32
    150.89.211.33
    150.89.211.34
    150.89.211.35
    150.89.211.36
)
###############################
# HOSTSの要素をランダムに返す                       #
# KADAI_HOST_INが設定されていればHOSTS2から選択する #
###############################

if [ -v KADAI_HOST_IN ]; then
    RANDOM_INDEX=$(( $RANDOM % ${#HOSTS2[*]} ))
    echo ${HOSTS2[${RANDOM_INDEX}]}
else
    RANDOM_INDEX=$(( $RANDOM % ${#HOSTS1[*]} ))
    echo ${HOSTS1[${RANDOM_INDEX}]}
fi


